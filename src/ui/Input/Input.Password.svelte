<script>
    import InputIcon from "./Input.Icon.svelte";

    export let name;
    export let placeholder = "";
    export let disabled = false;

    let isPasswordShow = false;
</script>

<InputIcon
    type={isPasswordShow ? "text" : "password"}
    {name}
    {placeholder}
    {disabled}
>
    <button class="button" type="button" on:click={() => isPasswordShow = !isPasswordShow}>
        {#if isPasswordShow}
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1 11.5L0.338235 11.1471C0.236859 11.3371 0.222112 11.5616 0.297753 11.7633L1 11.5ZM23 11.5L23.7022 11.7633C23.7779 11.5616 23.7631 11.3371 23.6618 11.1471L23 11.5ZM1.66176 11.8529C2.2872 10.6802 3.57765 8.88409 5.37888 7.38971C7.17808 5.89701 9.43083 4.75 12 4.75V3.25C8.96916 3.25 6.38858 4.60299 4.42112 6.23529C2.45568 7.86591 1.04613 9.81975 0.338235 11.1471L1.66176 11.8529ZM12 4.75C14.5692 4.75 16.8219 5.89701 18.6211 7.38971C20.4223 8.88409 21.7128 10.6802 22.3382 11.8529L23.6618 11.1471C22.9539 9.81975 21.5443 7.86591 19.5789 6.23529C17.6114 4.60299 15.0308 3.25 12 3.25V4.75ZM22.2978 11.2367C21.8354 12.4697 20.7486 14.3668 19.0192 15.9462C17.3009 17.5154 14.9741 18.75 12 18.75V20.25C15.4259 20.25 18.0991 18.8179 20.0308 17.0538C21.9514 15.2998 23.1646 13.197 23.7022 11.7633L22.2978 11.2367ZM12 18.75C9.02587 18.75 6.69909 17.5154 4.98076 15.9462C3.25136 14.3668 2.16464 12.4697 1.70225 11.2367L0.297753 11.7633C0.835359 13.197 2.04864 15.2998 3.96924 17.0538C5.90091 18.8179 8.57413 20.25 12 20.25V18.75ZM8.75 12C8.75 10.3514 9.97431 8.75 12 8.75V7.25C9.02569 7.25 7.25 9.64855 7.25 12H8.75ZM12 8.75C14.0257 8.75 15.25 10.3514 15.25 12H16.75C16.75 9.64855 14.9743 7.25 12 7.25V8.75ZM15.25 12C15.25 13.6486 14.0257 15.25 12 15.25V16.75C14.9743 16.75 16.75 14.3514 16.75 12H15.25ZM12 15.25C9.97431 15.25 8.75 13.6486 8.75 12H7.25C7.25 14.3514 9.02569 16.75 12 16.75V15.25Z" fill="#8D8D8D"/>
            </svg>
        {:else}
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1 11.5L0.338235 11.1471C0.236859 11.3371 0.222112 11.5616 0.297753 11.7633L1 11.5ZM23 11.5L23.7022 11.7633C23.7779 11.5616 23.7631 11.3371 23.6618 11.1471L23 11.5ZM1.66176 11.8529C2.2872 10.6802 3.57765 8.88409 5.37888 7.38971C7.17808 5.89701 9.43083 4.75 12 4.75V3.25C8.96916 3.25 6.38858 4.60299 4.42112 6.23529C2.45568 7.86591 1.04613 9.81975 0.338235 11.1471L1.66176 11.8529ZM12 4.75C14.5692 4.75 16.8219 5.89701 18.6211 7.38971C20.4223 8.88409 21.7128 10.6802 22.3382 11.8529L23.6618 11.1471C22.9539 9.81975 21.5443 7.86591 19.5789 6.23529C17.6114 4.60299 15.0308 3.25 12 3.25V4.75ZM22.2978 11.2367C21.8354 12.4697 20.7486 14.3668 19.0192 15.9462C17.3009 17.5154 14.9741 18.75 12 18.75V20.25C15.4259 20.25 18.0991 18.8179 20.0308 17.0538C21.9514 15.2998 23.1646 13.197 23.7022 11.7633L22.2978 11.2367ZM12 18.75C9.02587 18.75 6.69909 17.5154 4.98076 15.9462C3.25136 14.3668 2.16464 12.4697 1.70225 11.2367L0.297753 11.7633C0.835359 13.197 2.04864 15.2998 3.96924 17.0538C5.90091 18.8179 8.57413 20.25 12 20.25V18.75ZM8.75 12C8.75 10.3514 9.97431 8.75 12 8.75V7.25C9.02569 7.25 7.25 9.64855 7.25 12H8.75ZM12 8.75C14.0257 8.75 15.25 10.3514 15.25 12H16.75C16.75 9.64855 14.9743 7.25 12 7.25V8.75ZM15.25 12C15.25 13.6486 14.0257 15.25 12 15.25V16.75C14.9743 16.75 16.75 14.3514 16.75 12H15.25ZM12 15.25C9.97431 15.25 8.75 13.6486 8.75 12H7.25C7.25 14.3514 9.02569 16.75 12 16.75V15.25Z" fill="#8D8D8D"/>
            </svg>
        {/if}
    </button>
</InputIcon>

<style>
    .button {
        width: 1.5rem;
        height: 1.5rem;
        background: transparent;
        border: none;
        border-radius: 3px;
        cursor: pointer;
    }

    .button:focus {
        outline: var(--outline);
    }
</style>